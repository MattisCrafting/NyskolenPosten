{"ast":null,"code":"// components/ArtikkelVisning.js\nimport React from'react';import{useParams,Navigate,Link}from'react-router-dom';import'./ArtikkelVisning.css';// Enkel funksjon for å konvertere markdown til HTML\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const konverterMarkdown=tekst=>{if(!tekst)return'';// Konverter overskrifter (### Overskrift)\nlet formatertTekst=tekst.replace(/### (.*?)(\\n|$)/g,'<h3>$1</h3>');// Konverter fet tekst (**tekst**)\nformatertTekst=formatertTekst.replace(/\\*\\*(.*?)\\*\\*/g,'<strong>$1</strong>');// Konverter kursiv tekst (*tekst*)\nformatertTekst=formatertTekst.replace(/\\*([^\\*]+)\\*/g,'<em>$1</em>');// Konverter linjeskift til paragrafer\nformatertTekst=formatertTekst.split('\\n\\n').map(avsnitt=>avsnitt.trim()?`<p>${avsnitt}</p>`:'').join('');return formatertTekst;};function ArtikkelVisning(_ref){let{artikler=[],innloggetBruker}=_ref;const{artikkelID}=useParams();// Finn artikkel basert på ID\nconst artikkel=artikler.find(a=>a.artikkelID===artikkelID);// Hvis artikkelen ikke finnes, redirect til forsiden\nif(!artikkel){return/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}// Hvis artikkelen ikke er godkjent og brukeren ikke er admin eller forfatter, redirect til forsiden\nif(!artikkel.godkjent&&(!innloggetBruker||innloggetBruker.rolle!=='admin'&&innloggetBruker.id!==artikkel.forfatterID)){return/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}// Formater dato\nconst formatertDato=new Date(artikkel.dato).toLocaleDateString('no-NO',{year:'numeric',month:'long',day:'numeric'});// Konverter markdown til HTML\nconst formatertInnhold=konverterMarkdown(artikkel.innhold);return/*#__PURE__*/_jsxs(\"div\",{className:\"artikkel-visning\",children:[!artikkel.godkjent&&/*#__PURE__*/_jsx(\"div\",{className:\"ikke-godkjent-advarsel\",children:\"Denne artikkelen er ikke godkjent enn\\xE5 og er kun synlig for deg og redakt\\xF8rer.\"}),/*#__PURE__*/_jsxs(\"article\",{className:\"artikkel\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"artikkel-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"artikkel-tittel\",children:artikkel.tittel}),/*#__PURE__*/_jsxs(\"div\",{className:\"artikkel-meta\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"artikkel-forfatter\",children:[\"Av \",artikkel.forfatter]}),/*#__PURE__*/_jsxs(\"span\",{className:\"artikkel-dato\",children:[\"Publisert \",formatertDato]}),/*#__PURE__*/_jsxs(\"span\",{className:\"artikkel-kategori\",children:[\"Kategori: \",artikkel.kategori]})]})]}),artikkel.bilde&&/*#__PURE__*/_jsx(\"div\",{className:\"artikkel-bilde\",children:/*#__PURE__*/_jsx(\"img\",{src:artikkel.bilde,alt:artikkel.tittel})}),/*#__PURE__*/_jsx(\"div\",{className:\"artikkel-ingress\",children:artikkel.ingress}),/*#__PURE__*/_jsx(\"div\",{className:\"artikkel-innhold\",dangerouslySetInnerHTML:{__html:formatertInnhold}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"artikkel-navigasjon\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"tilbake-lenke\",children:\"\\u2190 Tilbake til forsiden\"})})]});}export default ArtikkelVisning;","map":{"version":3,"names":["React","useParams","Navigate","Link","jsx","_jsx","jsxs","_jsxs","konverterMarkdown","tekst","formatertTekst","replace","split","map","avsnitt","trim","join","ArtikkelVisning","_ref","artikler","innloggetBruker","artikkelID","artikkel","find","a","to","godkjent","rolle","id","forfatterID","formatertDato","Date","dato","toLocaleDateString","year","month","day","formatertInnhold","innhold","className","children","tittel","forfatter","kategori","bilde","src","alt","ingress","dangerouslySetInnerHTML","__html"],"sources":["/Users/mattis/src/NyskolenPosten/src/components/ArtikkelVisning.js"],"sourcesContent":["// components/ArtikkelVisning.js\nimport React from 'react';\nimport { useParams, Navigate, Link } from 'react-router-dom';\nimport './ArtikkelVisning.css';\n\n// Enkel funksjon for å konvertere markdown til HTML\nconst konverterMarkdown = (tekst) => {\n  if (!tekst) return '';\n  \n  // Konverter overskrifter (### Overskrift)\n  let formatertTekst = tekst.replace(/### (.*?)(\\n|$)/g, '<h3>$1</h3>');\n  \n  // Konverter fet tekst (**tekst**)\n  formatertTekst = formatertTekst.replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>');\n  \n  // Konverter kursiv tekst (*tekst*)\n  formatertTekst = formatertTekst.replace(/\\*([^\\*]+)\\*/g, '<em>$1</em>');\n  \n  // Konverter linjeskift til paragrafer\n  formatertTekst = formatertTekst\n    .split('\\n\\n')\n    .map(avsnitt => avsnitt.trim() ? `<p>${avsnitt}</p>` : '')\n    .join('');\n  \n  return formatertTekst;\n};\n\nfunction ArtikkelVisning({ artikler = [], innloggetBruker }) {\n  const { artikkelID } = useParams();\n  \n  // Finn artikkel basert på ID\n  const artikkel = artikler.find(a => a.artikkelID === artikkelID);\n  \n  // Hvis artikkelen ikke finnes, redirect til forsiden\n  if (!artikkel) {\n    return <Navigate to=\"/\" replace />;\n  }\n  \n  // Hvis artikkelen ikke er godkjent og brukeren ikke er admin eller forfatter, redirect til forsiden\n  if (!artikkel.godkjent && \n      (!innloggetBruker || \n       (innloggetBruker.rolle !== 'admin' && \n        innloggetBruker.id !== artikkel.forfatterID))) {\n    return <Navigate to=\"/\" replace />;\n  }\n  \n  // Formater dato\n  const formatertDato = new Date(artikkel.dato).toLocaleDateString('no-NO', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric'\n  });\n  \n  // Konverter markdown til HTML\n  const formatertInnhold = konverterMarkdown(artikkel.innhold);\n\n  return (\n    <div className=\"artikkel-visning\">\n      {!artikkel.godkjent && (\n        <div className=\"ikke-godkjent-advarsel\">\n          Denne artikkelen er ikke godkjent ennå og er kun synlig for deg og redaktører.\n        </div>\n      )}\n      \n      <article className=\"artikkel\">\n        <header className=\"artikkel-header\">\n          <h1 className=\"artikkel-tittel\">{artikkel.tittel}</h1>\n          \n          <div className=\"artikkel-meta\">\n            <span className=\"artikkel-forfatter\">Av {artikkel.forfatter}</span>\n            <span className=\"artikkel-dato\">Publisert {formatertDato}</span>\n            <span className=\"artikkel-kategori\">Kategori: {artikkel.kategori}</span>\n          </div>\n        </header>\n        \n        {artikkel.bilde && (\n          <div className=\"artikkel-bilde\">\n            <img src={artikkel.bilde} alt={artikkel.tittel} />\n          </div>\n        )}\n        \n        <div className=\"artikkel-ingress\">\n          {artikkel.ingress}\n        </div>\n        \n        <div \n          className=\"artikkel-innhold\"\n          dangerouslySetInnerHTML={{ __html: formatertInnhold }}\n        />\n      </article>\n      \n      <div className=\"artikkel-navigasjon\">\n        <Link to=\"/\" className=\"tilbake-lenke\">\n          &larr; Tilbake til forsiden\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default ArtikkelVisning; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}