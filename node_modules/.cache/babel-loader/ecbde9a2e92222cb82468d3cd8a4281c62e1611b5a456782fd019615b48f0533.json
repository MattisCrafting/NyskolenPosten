{"ast":null,"code":"// components/Register.js\nimport React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import'./Register.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(_ref){let{onRegister,brukere=[]}=_ref;const[navn,setNavn]=useState('');const[epost,setEpost]=useState('');const[passord,setPassord]=useState('');const[bekreftPassord,setBekreftPassord]=useState('');const[feilmelding,setFeilmelding]=useState('');const[suksess,setSuksess]=useState(false);const navigate=useNavigate();const handleSubmit=e=>{e.preventDefault();setFeilmelding('');// Validering\nif(!navn||!epost||!passord||!bekreftPassord){setFeilmelding('Alle feltene må fylles ut');return;}if(passord!==bekreftPassord){setFeilmelding('Passordene må være like');return;}if(passord.length<6){setFeilmelding('Passordet må være minst 6 tegn');return;}// Sjekk om e-postadressen allerede er i bruk\nconst eksisterendeBruker=brukere.find(b=>b.epost.toLowerCase()===epost.toLowerCase());if(eksisterendeBruker){setFeilmelding('Denne e-postadressen er allerede registrert');return;}// Opprett ny bruker\nconst nyBruker={id:Date.now().toString(),navn,epost,passord,rolle:'bruker',// Standard rolle for nye brukere\nregistrertDato:new Date().toISOString()};// Kall onRegister-funksjonen fra App.js\nonRegister(nyBruker);setSuksess(true);// Redirect til login etter 2 sekunder\nsetTimeout(()=>{navigate('/login',{state:{melding:'Registrering vellykket! Du kan nå logge inn.'}});},2000);};if(suksess){return/*#__PURE__*/_jsx(\"div\",{className:\"register\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"suksess-melding\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Registrering vellykket!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Du blir n\\xE5 videresendt til innloggingssiden...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"register\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Registrer deg p\\xE5 Nyskolen Posten\"}),feilmelding&&/*#__PURE__*/_jsx(\"div\",{className:\"feilmelding\",children:feilmelding}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-gruppe\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"navn\",children:\"Navn:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"navn\",value:navn,onChange:e=>setNavn(e.target.value),placeholder:\"Ditt fulle navn\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-gruppe\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"epost\",children:\"E-postadresse:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"epost\",value:epost,onChange:e=>setEpost(e.target.value),placeholder:\"din.epost@example.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-gruppe\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"passord\",children:\"Passord:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"passord\",value:passord,onChange:e=>setPassord(e.target.value),placeholder:\"Minst 6 tegn\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-gruppe\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"bekreft-passord\",children:\"Bekreft passord:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"bekreft-passord\",value:bekreftPassord,onChange:e=>setBekreftPassord(e.target.value),placeholder:\"Gjenta passordet\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"register-knapp\",children:\"Registrer deg\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"login-link\",children:[\"Har du allerede en konto? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Logg inn her\"})]})]});}export default Register;","map":{"version":3,"names":["React","useState","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","Register","_ref","onRegister","brukere","navn","setNavn","epost","setEpost","passord","setPassord","bekreftPassord","setBekreftPassord","feilmelding","setFeilmelding","suksess","setSuksess","navigate","handleSubmit","e","preventDefault","length","eksisterendeBruker","find","b","toLowerCase","nyBruker","id","Date","now","toString","rolle","registrertDato","toISOString","setTimeout","state","melding","className","children","onSubmit","htmlFor","type","value","onChange","target","placeholder","to"],"sources":["/Users/mattis/src/NyskolenPosten/src/components/Register.js"],"sourcesContent":["// components/Register.js\nimport React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport './Register.css';\n\nfunction Register({ onRegister, brukere = [] }) {\n  const [navn, setNavn] = useState('');\n  const [epost, setEpost] = useState('');\n  const [passord, setPassord] = useState('');\n  const [bekreftPassord, setBekreftPassord] = useState('');\n  const [feilmelding, setFeilmelding] = useState('');\n  const [suksess, setSuksess] = useState(false);\n  const navigate = useNavigate();\n  \n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setFeilmelding('');\n    \n    // Validering\n    if (!navn || !epost || !passord || !bekreftPassord) {\n      setFeilmelding('Alle feltene må fylles ut');\n      return;\n    }\n    \n    if (passord !== bekreftPassord) {\n      setFeilmelding('Passordene må være like');\n      return;\n    }\n    \n    if (passord.length < 6) {\n      setFeilmelding('Passordet må være minst 6 tegn');\n      return;\n    }\n    \n    // Sjekk om e-postadressen allerede er i bruk\n    const eksisterendeBruker = brukere.find(b => b.epost.toLowerCase() === epost.toLowerCase());\n    if (eksisterendeBruker) {\n      setFeilmelding('Denne e-postadressen er allerede registrert');\n      return;\n    }\n    \n    // Opprett ny bruker\n    const nyBruker = {\n      id: Date.now().toString(),\n      navn,\n      epost,\n      passord,\n      rolle: 'bruker', // Standard rolle for nye brukere\n      registrertDato: new Date().toISOString()\n    };\n    \n    // Kall onRegister-funksjonen fra App.js\n    onRegister(nyBruker);\n    setSuksess(true);\n    \n    // Redirect til login etter 2 sekunder\n    setTimeout(() => {\n      navigate('/login', { state: { melding: 'Registrering vellykket! Du kan nå logge inn.' } });\n    }, 2000);\n  };\n  \n  if (suksess) {\n    return (\n      <div className=\"register\">\n        <div className=\"suksess-melding\">\n          <h2>Registrering vellykket!</h2>\n          <p>Du blir nå videresendt til innloggingssiden...</p>\n        </div>\n      </div>\n    );\n  }\n  \n  return (\n    <div className=\"register\">\n      <h2>Registrer deg på Nyskolen Posten</h2>\n      \n      {feilmelding && <div className=\"feilmelding\">{feilmelding}</div>}\n      \n      <form onSubmit={handleSubmit}>\n        <div className=\"form-gruppe\">\n          <label htmlFor=\"navn\">Navn:</label>\n          <input \n            type=\"text\"\n            id=\"navn\"\n            value={navn}\n            onChange={(e) => setNavn(e.target.value)}\n            placeholder=\"Ditt fulle navn\"\n          />\n        </div>\n        \n        <div className=\"form-gruppe\">\n          <label htmlFor=\"epost\">E-postadresse:</label>\n          <input \n            type=\"email\"\n            id=\"epost\"\n            value={epost}\n            onChange={(e) => setEpost(e.target.value)}\n            placeholder=\"din.epost@example.com\"\n          />\n        </div>\n        \n        <div className=\"form-gruppe\">\n          <label htmlFor=\"passord\">Passord:</label>\n          <input \n            type=\"password\"\n            id=\"passord\"\n            value={passord}\n            onChange={(e) => setPassord(e.target.value)}\n            placeholder=\"Minst 6 tegn\"\n          />\n        </div>\n        \n        <div className=\"form-gruppe\">\n          <label htmlFor=\"bekreft-passord\">Bekreft passord:</label>\n          <input \n            type=\"password\"\n            id=\"bekreft-passord\"\n            value={bekreftPassord}\n            onChange={(e) => setBekreftPassord(e.target.value)}\n            placeholder=\"Gjenta passordet\"\n          />\n        </div>\n        \n        <button type=\"submit\" className=\"register-knapp\">Registrer deg</button>\n      </form>\n      \n      <p className=\"login-link\">\n        Har du allerede en konto? <Link to=\"/login\">Logg inn her</Link>\n      </p>\n    </div>\n  );\n}\n\nexport default Register; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}