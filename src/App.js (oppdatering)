// Oppdatert funksjon for registrering
const registrerBruker = (nyBruker) => {
  // Sjekk om e-posten allerede er registrert
  const eksisterendeBruker = brukere.find(b => b.epost === nyBruker.epost);
  if (eksisterendeBruker) {
    return { success: false, message: 'E-postadressen er allerede registrert' };
  }
  
  // Opprett bruker-objekt
  const brukerObjekt = {
    ...nyBruker,
    id: 'bruker-' + Date.now(),
    godkjent: nyBruker.rolle === 'admin' || nyBruker.rolle === 'redaktør', // Automatisk godkjent for admin/redaktør
    dato: new Date().toISOString()
  };
  
  // Legg til i brukerlisten
  const oppdatertBrukere = [...brukere, brukerObjekt];
  setBrukere(oppdatertBrukere);
  localStorage.setItem('brukere', JSON.stringify(oppdatertBrukere));
  
  // Legg til i jobblisten for redaktører og administratorer
  if (brukerObjekt.rolle === 'admin' || brukerObjekt.rolle === 'redaktør') {
    const nyJobblisteOppføring = {
      id: 'jobb-' + Date.now(),
      navn: brukerObjekt.navn,
      rolle: brukerObjekt.rolle === 'admin' ? 'Administrator' : 'Redaktør',
      dato: new Date().toISOString()
    };
    
    const oppdatertJobbliste = [...jobbliste, nyJobblisteOppføring];
    setJobbliste(oppdatertJobbliste);
    localStorage.setItem('jobbliste', JSON.stringify(oppdatertJobbliste));
  }
  
  return { success: true, message: 'Bruker registrert' };
}; 